(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{294:function(e,t,a){e.exports=a.p+"static/media/google-logo.1c6e97b7.png"},297:function(e,t,a){e.exports=a.p+"static/media/capeReinga1.80d717f6.jpg"},298:function(e,t,a){e.exports=a.p+"static/media/auckland.356c2498.jpg"},299:function(e,t,a){e.exports=a.p+"static/media/wellington.eb1d9122.jpg"},300:function(e,t,a){e.exports=a.p+"static/media/christchurch.28dc815f.jpg"},301:function(e,t,a){e.exports=a.p+"static/media/dunedin.80fac54d.jpg"},302:function(e,t,a){e.exports=a.p+"static/media/stirlingpoint.cb8fd750.jpg"},312:function(e,t,a){e.exports=a(671)},317:function(e,t,a){},559:function(e,t){e.exports={google:{clientId:"909776054271-l3v0sar1i5nqir67jjo0pn9bv252f9i1.apps.googleusercontent.com"}}},670:function(e,t,a){},671:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),i=a.n(o),s=(a(317),a(25)),c=a(58),l=a(19),u=a(57),m=a(290),p=a(291),d=a(18),h={token:localStorage.getItem("token"),isAuthenticated:!1,user:null,loading:!0},g={loading:!1,activity:null,errors:{}},f={},y={adminToken:localStorage.getItem("adminToken"),isAdmin:!1,loading:!0},v={loading:!1,footer:{}},b=Object(u.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(d.a)({},e,{token:localStorage.getItem("token"),isAuthenticated:!0,loading:!1,user:n});case"LOGIN_SUCCESS":return Object(d.a)({},e,{loading:!1});case"REGISTER_SUCCESS":return localStorage.setItem("token",n.token),Object(d.a)({},e,{token:localStorage.getItem("token"),user:n.user,isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"LOGIN_FAIL":case"AUTH_ERROR":case"LOGTOUT":return localStorage.removeItem("token"),Object(d.a)({},e,{user:null,token:null,isAuthenticated:!1,loading:!1});default:return e}},activity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_ACTIVITY":return Object(d.a)({},e,{activity:n,loading:!1});case"CLEAR_ACTIVITY":return Object(d.a)({},e,{activity:null,loading:!1});case"ACTIVITY_ERROR":return Object(d.a)({},e,{errors:n,loading:!1});case"CLEAR_ACTIVITY_ERROR":return delete e.errors[n],Object(d.a)({},e);default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ERRORS":return Object(d.a)({},e,n);case"CLEAR_ERRORS":return delete e[n],Object(d.a)({},e);default:return e}},adminAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADMIN_LOADED":return Object(d.a)({},e,{adminToken:localStorage.getItem("adminToken"),isAdmin:!0,loading:!1});case"ADMIN_LOGIN_SUCCESS":return localStorage.setItem("adminToken",n),Object(d.a)({},e,{adminToken:localStorage.getItem("adminToken"),isAdmin:!0,loading:!1});case"ADMIN_LOGIN_FAIL":case"ADMIN_AUTH_ERROR":case"ADMIN_LOGOUT":return localStorage.removeItem("adminToken"),Object(d.a)({},e,{adminToken:null,isAdmin:!1,loading:!1});default:return e}},footer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_FOOTER":return Object(d.a)({},e,{footer:n,loading:!1});default:return e}}}),E=[p.a],O=Object(u.createStore)(b,{},Object(m.composeWithDevTools)(u.applyMiddleware.apply(void 0,E))),j=a(5),x=a.n(j),k=a(10),w=a(12),C=a(13),T=a(15),S=a(14),I=a(16),L=a(101),A=a.n(L),N=function(){return A.a.create({baseURL:"http://localhost:5000/api/"})},P=function(){return N().get("activity")},R=function(e){return N().post("activity",e)},D=function(){return N().put("activity")},B=function(){return function(){var e=Object(k.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P();case 3:a=e.sent,t({type:"GET_ACTIVITY",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.errors,t({type:"ACTIVITY_ERROR",payload:n});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},M={getTeams:function(){return N().get("teams")},getUserTeam:function(e){return N().get("teams/".concat(e))},getTeamWinner:function(){return N().get("teams/winner")},getTeamMember:function(e){return N().get("teams/members/".concat(e))}},F=a(67),G=a.n(F),_=a(1),W=a(9),U=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.activity,t=e.activity,a=e.loading,n=this.props.classes;return r.a.createElement(_.Paper,{className:n.root,elevation:2},r.a.createElement(_.Typography,{variant:"h6",color:"primary"},"Activity",null===t||0===Object.keys(t).length?"":r.a.createElement(_.Typography,{color:"secondary",style:{float:"right",marginTop:"5px"}},t.status)),r.a.createElement("hr",null),a&&r.a.createElement(_.CircularProgress,{className:n.progress,color:"primary"}),null===t||0===Object.keys(t).length?r.a.createElement(_.Typography,{color:"secondary"},"No activity created yet, please be patient."):r.a.createElement("div",null,r.a.createElement(_.Typography,{component:"p"},r.a.createElement("i",{className:"fas fa-clock text-primary"})," ",r.a.createElement(G.a,{format:"DD/MM/YYYY"},t.start)," \u2014"," ",r.a.createElement(G.a,{format:"DD/MM/YYYY"},t.end)," "),r.a.createElement(_.Typography,{component:"p"},r.a.createElement("i",{className:"fas fa-users text-primary"})," ",t.participants)),r.a.createElement(_.Link,{variant:"body2",component:s.b,to:"/user/posts"},r.a.createElement("i",{className:"fas fa-bullhorn"}),r.a.createElement(_.Typography,{inline:!0}," Posts Board "),r.a.createElement("i",{className:"fas fa-arrow-left"})))}}]),t}(n.Component),Y=Object(l.b)(function(e){return{activity:e.activity}})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,width:"15rem",textAlign:"center",margin:"auto"}),progress:{margin:2*e.spacing.unit}}})(U)),V=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:200,textAlign:"center",margin:"auto",backgroundColor:e.palette.secondary.light})}})(function(e){var t=e.classes,a=e.user,n=e.flagStyle;return r.a.createElement("div",null,r.a.createElement(_.Paper,{className:t.root,elevation:0},r.a.createElement(_.Typography,{component:"p",variant:"subtitle1",gutterBottom:!0},r.a.createElement("i",{className:"fas fa-user"})," ",r.a.createElement("span",null,a.name),"   ",r.a.createElement("i",{className:"fas fa-flag",style:n})),r.a.createElement(_.Typography,{component:"p",variant:"subtitle1",gutterBottom:!0},"Points: ",a.points," ",r.a.createElement("i",{className:"fas fa-hand-paper"}),"   ",a.hifive),!a.accountState&&r.a.createElement(_.Typography,{color:"error",variant:"caption"},"Your account has been paused, Please contact administrator!")))}),H=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={team:"",posts:[]},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.props.auth.user){e.next=6;break}return e.next=4,M.getUserTeam(this.props.auth.user.team);case 4:t=e.sent,this.setState({team:t.data});case 6:this.props.getActivity(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.auth.user,t=this.state.team,a=this.props.classes,n={color:t.color?t.color:""},o=r.a.createElement(_.Typography,{variant:"h4"},"Welcome to"," ",r.a.createElement(_.Typography,{inline:!0,component:"span",variant:"h4",color:"primary"},"HiFIVE")," ","Community"),i=r.a.createElement(_.Typography,{variant:"h6"},"Welcome to"," ",r.a.createElement(_.Typography,{inline:!0,component:"span",variant:"h6",color:"primary"},"HiFIVE")," ","Community");return r.a.createElement(_.Grid,{className:a.banner,container:!0,justify:"center",alignItems:"center",spacing:8},r.a.createElement(_.Grid,{item:!0,lg:5,md:6,xs:11,className:a.welcome},r.a.createElement(_.Hidden,{xsDown:!0},o),r.a.createElement(_.Hidden,{smUp:!0},i),r.a.createElement(V,{user:e,flagStyle:n})),r.a.createElement(_.Grid,{item:!0,md:4,xs:11},r.a.createElement(Y,null)))}}]),t}(n.Component),z=Object(l.b)(function(e){return{auth:e.auth}},{getActivity:B})(Object(W.withStyles)(function(e){return{banner:{height:"20rem",padding:"20px",backgroundColor:e.palette.secondary.light},welcome:{textAlign:"center"},postLink:{textAlign:"center"}}})(H)),J=a(84),q=function(e){e?A.a.defaults.headers.common["x-auth-token"]=e:delete A.a.defaults.headers.common["x-auth-token"]},K=function(e){return N().post("users/register",e)},Z=function(){return N().get("users/login")},X=function(){return N().get("auth")},Q=function(e){return function(t){t({type:"SET_ERRORS",payload:e})}},$=function(e){return function(t){e.forEach(function(e){t({type:"CLEAR_ERRORS",payload:e})})}},ee=function(){return function(){var e=Object(k.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&q(localStorage.token),e.prev=1,e.next=4,X();case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},te=a(293),ae=a(294),ne=a.n(ae),re=a(61),oe=a(295),ie=a.n(oe),se=a(296),ce=a.n(se),le=Object(W.withStyles)(function(e){return{error:{backgroundColor:e.palette.error.dark,margin:"20px"},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=(e.className,e.message),n=e.onClose,o=(e.variant,Object(re.a)(e,["classes","className","message","onClose","variant"])),i=ie.a;return r.a.createElement(_.SnackbarContent,Object.assign({className:t.error,"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(i,{className:t.iconVariant}),a),action:[r.a.createElement(_.IconButton,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:n},r.a.createElement(ce.a,{className:t.icon}))]},o))}),ue=a(82),me=a.n(ue),pe=a(559).google.clientId,de=Object(c.f)(Object(l.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isAdmin:e.adminAuth.isAdmin,errors:e.errors}},{login:function(e,t){return function(){var a=Object(k.a)(x.a.mark(function a(n){var r,o;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return q(e),a.prev=1,a.next=4,Z();case 4:r=a.sent,q(r.data.token),n({type:"LOGIN_SUCCESS"}),n({type:"REGISTER_SUCCESS",payload:r.data}),a.next=18;break;case 10:if(a.prev=10,a.t0=a.catch(1),404!==a.t0.response.status){a.next=15;break}return n({type:"LOGIN_SUCCESS"}),a.abrupt("return",t.push("/register"));case 15:(o=a.t0.response.data.errors)&&n(Q(o)),n({type:"LOGIN_FAIL"});case 18:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()},setErrors:Q,clearErrors:$})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),content:{textAlign:"center"},logo:{marginBottom:e.spacing.unit},button:{margin:2*e.spacing.unit,height:"50px",fontSize:"1rem"},input:{display:"none"},googleLogo:{maxWidth:"100%",height:"30px",marginRight:"10px"},progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.isAuthenticated,a=e.isAdmin,o=e.login,i=e.history,s=e.setErrors,l=e.clearErrors,u=e.classes,m=e.errors,p=Object(n.useState)(!1),d=Object(J.a)(p,1)[0];if(t)return r.a.createElement(c.a,{to:"/user/home"});if(a)return r.a.createElement(c.a,{to:"/admin/activity"});return r.a.createElement(_.Grid,{container:!0,justify:"center",style:{marginTop:"10rem"}},r.a.createElement(_.Grid,{item:!0,md:4,sm:8,xs:12,className:u.content},r.a.createElement("img",{className:u.logo,src:me.a,width:"50",height:"50",alt:"Logo"}),r.a.createElement(_.Typography,{variant:"h5",paragraph:!0},"Welcome to"," ",r.a.createElement(_.Typography,{inline:!0,component:"span",variant:"h5",color:"primary"},"HiFIVE")," ","Community"),d&&r.a.createElement(_.CircularProgress,{className:u.progress,color:"primary"}),!d&&r.a.createElement(te.GoogleLogin,{clientId:pe,render:function(e){return r.a.createElement(_.Button,{variant:"outlined",color:"primary",className:u.button,onClick:e.onClick,disabled:e.disabled},r.a.createElement("img",{src:ne.a,className:u.googleLogo,alt:"Google Logo"}),"Signin with Google")},buttonText:"Signin with Google",onSuccess:function(e){var t=e.getAuthResponse().id_token;o(t,i)},onFailure:function(e){s({googleServer:{msg:"Something wrong with Google Signin"}})},cookiePolicy:"single_host_origin"}),m.googleServer&&r.a.createElement(le,{variant:"error",message:m.googleServer.msg,onClose:function(){l(["googleServer"])}})))}))),he=a(32),ge=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",ageRange:"",gender:"",department:"",jobDesc:"",fitnessLevel:"",team:"",teamRandom:!0,teamOptions:[],error:null},a.onChange=function(e){a.setState(Object(he.a)({},e.target.name,e.target.value)),a.props.clearErrors([e.target.name])},a.onTeamRandomChange=function(e){a.setState({teamRandom:!a.state.teamRandom})},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name,ageRange:a.state.ageRange,gender:a.state.gender,department:a.state.department,jobDesc:a.state.jobDesc,fitnessLevel:a.state.fitnessLevel,teamRandom:a.state.teamRandom,team:a.state.team};a.props.register(t,a.props.history)},a.onErrorClose=function(){a.props.clearErrors(["server"])},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t,a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.auth.isAuthenticated){e.next=2;break}return e.abrupt("return",this.props.history.push("/user/home"));case 2:return e.prev=2,e.next=5,M.getTeams();case 5:t=e.sent,a=t.data,n=a.map(function(e){return{id:e._id,label:e.name,value:e._id}}),this.setState({teamOptions:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({error:e.t0.response.data});case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){if(e.auth.isAuthenticated)return this.props.history.push("/user/home")}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.ageRange,n=e.gender,o=e.department,i=e.jobDesc,s=e.fitnessLevel,c=e.team,l=e.teamRandom,u=e.teamOptions,m=e.error,p=this.props.errors;return r.a.createElement(_.Grid,{container:!0,justify:"center",style:{marginTop:"20px"}},r.a.createElement(_.Grid,{item:!0,lg:4,md:5},r.a.createElement(_.Paper,{elevation:1,style:{padding:"20px"}},r.a.createElement(_.Typography,{variant:"h5",component:"h3",color:"primary",style:{marginBottom:"10px"}},"Sign up"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(_.TextField,{label:"Name",name:"name",value:t,onChange:this.onChange,error:!!p.name,fullWidth:!0}),p.name&&r.a.createElement(_.Typography,{color:"error"},p.name.msg),r.a.createElement(_.FormControl,{fullWidth:!0,error:!!p.ageRange},r.a.createElement(_.InputLabel,{htmlFor:"ageRange"},"Age"),r.a.createElement(_.Select,{value:a,onChange:this.onChange,inputProps:{name:"ageRange",id:"ageRange"}},r.a.createElement(_.MenuItem,{value:""},r.a.createElement("em",null,"None")),[{label:"20-29",value:"20-29"},{label:"30-39",value:"30-39"},{label:"40-49",value:"40-49"},{label:"50-59",value:"50-59"},{label:"60 plus",value:"60 plus"}].map(function(e){return r.a.createElement(_.MenuItem,{key:e.value,value:e.value},e.label)}))),p.ageRange&&r.a.createElement(_.Typography,{color:"error"},p.ageRange.msg),r.a.createElement(_.FormControl,{fullWidth:!0,error:!!p.gender},r.a.createElement(_.InputLabel,{htmlFor:"gender"},"Gender"),r.a.createElement(_.Select,{value:n,onChange:this.onChange,inputProps:{name:"gender",id:"gender"}},r.a.createElement(_.MenuItem,{value:""},r.a.createElement("em",null,"None")),[{label:"male",value:"male"},{label:"female",value:"female"}].map(function(e){return r.a.createElement(_.MenuItem,{key:e.value,value:e.value},e.label)}))),p.gender&&r.a.createElement(_.Typography,{color:"error"},p.gender.msg),r.a.createElement(_.TextField,{label:"Department",name:"department",value:o,onChange:this.onChange,error:!!p.department,fullWidth:!0}),p.department&&r.a.createElement(_.Typography,{color:"error"},p.department.msg),r.a.createElement(_.TextField,{label:"Job description",name:"jobDesc",value:i,onChange:this.onChange,error:!!p.jobDesc,fullWidth:!0}),p.jobDesc&&r.a.createElement(_.Typography,{color:"error"},p.jobDesc.msg),r.a.createElement(_.FormControl,{fullWidth:!0,error:!!p.fitnessLevel},r.a.createElement(_.InputLabel,{htmlFor:"fitnessLevel"},"Fitness level"),r.a.createElement(_.Select,{value:s,onChange:this.onChange,inputProps:{name:"fitnessLevel",id:"fitnessLevel"}},r.a.createElement(_.MenuItem,{value:""},r.a.createElement("em",null,"None")),[{label:"Exercise once a week",value:"Exercise once a week"},{label:"Exercise twice a week",value:"Exercise twice a week"},{label:"Exercise three times a week",value:"Exercise three times a week"},{label:"Exercise five or more times a week",value:"Exercise five or more times a week"}].map(function(e){return r.a.createElement(_.MenuItem,{key:e.value,value:e.value},e.label)}))),p.fitnessLevel&&r.a.createElement(_.Typography,{color:"error"},p.fitnessLevel.msg),r.a.createElement(_.FormControlLabel,{control:r.a.createElement(_.Checkbox,{checked:l,onChange:this.onTeamRandomChange,value:"teamRandom",color:"primary"}),label:"Random Team"}),r.a.createElement(_.FormControl,{error:!!p.team,disabled:l,fullWidth:!0},r.a.createElement(_.InputLabel,{htmlFor:"team"},"Select Team"),r.a.createElement(_.Select,{value:c,onChange:this.onChange,inputProps:{name:"team",id:"team"}},r.a.createElement(_.MenuItem,{value:""},r.a.createElement("em",null,"None")),u.map(function(e){return r.a.createElement(_.MenuItem,{key:e.id,value:e.value},e.label)}))),p.team&&r.a.createElement(_.Typography,{color:"error"},p.team.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Sign up"),m&&r.a.createElement(le,{variant:"error",message:m,onClose:this.onErrorClose})))))}}]),t}(n.Component),fe=Object(l.b)(function(e){return{auth:e.auth,errors:e.errors}},{register:function(e,t){return function(){var a=Object(k.a)(x.a.mark(function a(n){var r,o;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,K(e);case 3:r=a.sent,q(r.data.token),n({type:"REGISTER_SUCCESS",payload:r.data}),t.push("/user/home"),a.next=15;break;case 9:a.prev=9,a.t0=a.catch(0),401===a.t0.response.status&&t.push("/"),(o=a.t0.response.data.errors)&&n(Q(o)),n({type:"REGISTER_FAIL"});case 15:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},clearErrors:$})(Object(c.f)(ge)),ye=a(297),ve=a.n(ye),be=a(298),Ee=a.n(be),Oe=a(299),je=a.n(Oe),xe=a(300),ke=a.n(xe),we=a(301),Ce=a.n(we),Te=a(302),Se=a.n(Te),Ie=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={distanceNZ:2122e3},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,o=t.style,i=this.state.distanceNZ,s=this.props.activity.activity;s&&0!==Object.keys(s).length?(e=(1e3*s.points/i).toFixed(2))>100&&(e=100):e=0;var c=ve.a;return e>=20&&e<40&&(c=Ee.a),e>=40&&e<60&&(c=je.a),e>=60&&e<80&&(c=ke.a),e>=80&&e<100&&(c=Ce.a),100===e&&(c=Se.a),r.a.createElement(_.Card,{className:a.card,style:o},r.a.createElement(_.CardActionArea,null,r.a.createElement(_.CardMedia,{component:"img",className:a.media,image:c,title:"Journey image",alt:"Journey image"}),r.a.createElement(_.CardContent,null,r.a.createElement(_.Typography,{gutterBottom:!0,variant:"subtitle2"},s&&0!==Object.keys(s).length?r.a.createElement(n.Fragment,null,r.a.createElement(_.Typography,{component:"span",inline:!0,variant:"subtitle2",color:"primary"},10*s.points," "),"meters NOW!",r.a.createElement(_.Typography,{inline:!0,variant:"body2",color:"secondary",style:{float:"right"}},"One point = Ten meters")):r.a.createElement(_.Typography,{color:"secondary"},"The journey has not start yet")),r.a.createElement("hr",null),r.a.createElement(_.Grid,{container:!0,justify:"space-around",style:{marginTop:"10px"}},r.a.createElement(_.Typography,{component:"p",variant:"caption",color:e>=0?"primary":"secondary"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Cape Reinga"),r.a.createElement(_.Typography,{component:"p",variant:"caption",color:e>=20?"primary":"secondary"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Auckland"),r.a.createElement(_.Typography,{component:"p",variant:"caption",color:e>=40?"primary":"secondary"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Wellington"),r.a.createElement(_.Typography,{component:"p",variant:"caption",color:e>=60?"primary":"secondary"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Christchurch"),r.a.createElement(_.Typography,{component:"p",variant:"caption",color:e>=80?"primary":"secondary"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Dunedin"),r.a.createElement(_.Typography,{component:"p",variant:"caption",color:e>=100?"primary":"secondary"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Stirling point")),r.a.createElement(_.LinearProgress,{value:Number(e),variant:"determinate",style:{marginTop:"20px"}}),r.a.createElement(_.Typography,{component:"p",variant:"h5",style:{textAlign:"center",marginTop:"10px"},color:"secondary"},e," %"))))}}]),t}(n.Component),Le=Object(l.b)(function(e){return{activity:e.activity}})(Object(W.withStyles)(function(e){return{card:{maxWidth:"100%"},media:{height:300},textPrimary:{color:e.palette.primary.main}}})(Ie)),Ae=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.title,n=t.winner;return e=0===n.length?r.a.createElement(_.Typography,{component:"p",color:"secondary"},"No winner yet"):1===n.length?r.a.createElement("div",null,r.a.createElement(_.ListItem,{divider:!0},r.a.createElement(_.ListItemIcon,null,r.a.createElement("i",{className:"fas fa-trophy",style:{color:"#ffc107"}})),r.a.createElement(_.ListItemText,{primary:n[0].name}),r.a.createElement(_.ListItemText,{secondary:"".concat(n[0].points," points"),style:{textAlign:"right"}})),r.a.createElement(_.Typography,{component:"p",color:"secondary"},"No other winner yet")):2===n.length?r.a.createElement("div",null,r.a.createElement(_.ListItem,{divider:!0},r.a.createElement(_.ListItemIcon,null,r.a.createElement("i",{className:"fas fa-trophy",style:{color:"#ffc107"}})),r.a.createElement(_.ListItemText,{primary:n[0].name}),r.a.createElement(_.ListItemText,{secondary:"".concat(n[0].points," points"),style:{textAlign:"right"}})),r.a.createElement(_.ListItem,{divider:!0},r.a.createElement(_.ListItemIcon,null,r.a.createElement("i",{className:"fas fa-trophy",style:{color:"#C0C0C0"}})),r.a.createElement(_.ListItemText,{primary:n[1].name}),r.a.createElement(_.ListItemText,{secondary:"".concat(n[1].points," points"),style:{textAlign:"right"}})),r.a.createElement(_.Typography,{component:"p",color:"secondary"},"No other winner yet")):r.a.createElement("div",null,r.a.createElement(_.ListItem,{divider:!0},r.a.createElement(_.ListItemIcon,null,r.a.createElement("i",{className:"fas fa-trophy",style:{color:"#ffc107"}})),r.a.createElement(_.ListItemText,{primary:n[0].name}),r.a.createElement(_.ListItemText,{secondary:"".concat(n[0].points," points"),style:{textAlign:"right"}})),r.a.createElement(_.ListItem,{divider:!0},r.a.createElement(_.ListItemIcon,null,r.a.createElement("i",{className:"fas fa-trophy",style:{color:"#C0C0C0"}})),r.a.createElement(_.ListItemText,{primary:n[1].name}),r.a.createElement(_.ListItemText,{secondary:"".concat(n[1].points," points"),style:{textAlign:"right"}})),r.a.createElement(_.ListItem,{divider:!0},r.a.createElement(_.ListItemIcon,null,r.a.createElement("i",{className:"fas fa-trophy",style:{color:"#964B00"}})),r.a.createElement(_.ListItemText,{primary:n[2].name}),r.a.createElement(_.ListItemText,{secondary:"".concat(n[2].points," points"),style:{textAlign:"right"}}))),r.a.createElement("div",null,r.a.createElement(_.Typography,{component:"h2",variant:"h6"},a),r.a.createElement(_.List,null,e))}}]),t}(n.Component),Ne={getUserWinner:function(){return N().get("users/winner")},getUsers:function(e){return N().get("users",{params:e})},getUserRank:function(e){return N().get("users/rank/".concat(e.points,"/").concat(e.hifive))},getUserByID:function(e){return N().get("users/".concat(e))}},Pe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={userWinner:[],teamWinner:[],error:""},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t,a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUserWinner();case 3:return t=e.sent,e.next=6,M.getTeamWinner();case 6:a=e.sent,n=t.data,r=a.data,this.setState({userWinner:n.map(function(e){return{name:e.name,points:e.points}}),teamWinner:r.map(function(e){return{name:e.name,points:e.points}})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.userWinner,a=e.teamWinner,n=this.props,o=n.classes,i=n.style;return r.a.createElement(_.Paper,{className:o.root,elevation:2,style:i},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"Contribution",r.a.createElement(_.Button,{component:s.b,to:"/user/contribution",className:o.backBtn,variant:"contained",color:"primary"},"More")),r.a.createElement(Ae,{title:"Individual",winner:t}),r.a.createElement(Ae,{title:"Team",winner:a}))}}]),t}(n.Component),Re=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:"auto"}),backBtn:{float:"right"}}})(Pe),De=function(){return N().get("hifives")},Be=function(){return N().get("hifives/rank")},Me=function(e){return N().post("hifives/add",e)},Fe=function(){return N().get("hifives/user")},Ge=a(36),_e=a.n(Ge),We=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={history:[],loading:!0,error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De();case 3:t=e.sent,this.setState({history:t.data,loading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.history,a=e.loading,n=t.map(function(e){return{sender:e.sender.name,receiver:e.receiver[0].name,reason:e.reason}});return r.a.createElement("div",null,a&&r.a.createElement(_.LinearProgress,{color:"primary"}),!a&&r.a.createElement(_e.a,{title:"History",data:n,columns:[{name:"sender",label:"Sender",options:{sort:!1}},{name:"receiver",label:"Receiver",options:{sort:!1}},{name:"reason",label:"Reason",options:{sort:!1}}],options:{print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,download:!1}}))}}]),t}(n.Component),Ue=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={rank:[],loading:!0,error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be();case 3:t=e.sent,this.setState({rank:t.data,loading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.rank,a=e.loading,n=t.map(function(e){return{id:e._id,name:e.name,hifive:e.hifive}});return r.a.createElement("div",null,a&&r.a.createElement(_.LinearProgress,{color:"primary"}),!a&&r.a.createElement(_e.a,{title:"Rank",data:n,columns:[{name:"name",label:"Name",options:{sort:!1}},{name:"hifive",label:"HiFIVE",options:{sort:!1}}],options:{print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,download:!1}}))}}]),t}(n.Component),Ye=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.style,n=e.auth;return r.a.createElement(_.Paper,{className:t.root,elevation:2,style:a},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"HiFIVE",r.a.createElement(_.Button,{className:t.backBtn,component:s.b,to:"/user/hifive/add",variant:"contained",color:"primary",disabled:!n.user.accountState},"Give a HiFIVE")),r.a.createElement(_.Grid,{container:!0,spacing:16},r.a.createElement(_.Grid,{item:!0,md:7,xs:12},r.a.createElement(We,null)),r.a.createElement(_.Grid,{item:!0,md:5,xs:12},r.a.createElement(Ue,null))))}}]),t}(n.Component),Ve=Object(l.b)(function(e){return{auth:e.auth}})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:"auto"}),backBtn:{float:"right"}}})(Ye)),He=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_.Grid,{className:e.root,container:!0,justify:"center",alignItems:"flex-start",spacing:16},r.a.createElement(_.Grid,{item:!0,lg:4,md:6,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(Le,null))),r.a.createElement(_.Grid,{item:!0,lg:3,md:5,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(Re,null))),r.a.createElement(_.Grid,{item:!0,lg:7,md:11,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(Ve,null))))}}]),t}(n.Component),ze=Object(W.withStyles)(function(e){return{root:{marginTop:20}}})(He),Je=function(e){return N().get("records/user",{params:e})},qe=function(e){return N().post("records/add",e)},Ke=function(e){return N().get("records",e)},Ze=a(83),Xe=a(43),Qe=a.n(Xe),$e=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={records:[],loading:!0,error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je({number:10});case 3:t=e.sent,this.setState({records:t.data,loading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.style,n=e.activity,o=e.auth,i=this.state,c=i.records,l=i.loading,u=c.map(function(e){return{date:Qe()(e.date).format("MMM Do YYYY"),type:e.type,duration:e.duration,points:e.points}}),m={labels:c.map(function(e){return Qe()(e.date).format("MMM Do")}).reverse(),datasets:[{data:c.map(function(e){return e.points}).reverse(),borderColor:"#27a6bb",fill:!1}]};return r.a.createElement("div",{style:a},r.a.createElement(_.Paper,{className:t.root,elevation:1},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"Exercise Records",r.a.createElement(_.Button,{component:s.b,to:"/user/record/add",className:t.backBtn,variant:"contained",color:"primary",disabled:!o.user.accountState||!n.activity||0===Object.keys(n.activity).length||"Paused"===n.activity.status||Qe()(new Date).isBefore(Qe()(n.activity.start))},"+ Record")),r.a.createElement("p",null,r.a.createElement(Ze.b,{width:400,height:300,data:m,options:{legend:{display:!1},tooltips:{callbacks:{label:function(e){return e.yLabel}}},maintainAspectRatio:!1}}))),l&&r.a.createElement(_.LinearProgress,{color:"primary"}),!l&&r.a.createElement(_e.a,{title:"History",data:u,columns:[{name:"date",label:"Date",options:{sort:!1}},{name:"type",label:"Type",options:{sort:!1}},{name:"duration",label:"Duration",options:{sort:!1}},{name:"points",label:"Points",options:{sort:!1}}],options:{print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,download:!1}}))}}]),t}(n.Component),et=Object(l.b)(function(e){return{auth:e.auth,activity:e.activity}})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginBottom:"20px"}),backBtn:{float:"right"}}})($e)),tt=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center"})}})(function(e){var t=e.classes,a=e.title,n=e.rank;return r.a.createElement(_.Paper,{className:t.root,elevation:1},r.a.createElement(_.Typography,{variant:"h6",component:"h3",color:"primary"},a),r.a.createElement(_.Typography,{component:"p"},r.a.createElement("i",{className:"fas fa-star"})," ",n))}),at=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={pointsRank:0,hifiveRank:0,error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUserRank({points:this.props.auth.user.points,hifive:this.props.auth.user.hifive});case 3:t=e.sent,this.setState({pointsRank:t.data.pointsRank,hifiveRank:t.data.hifiveRank}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(k.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUserRank({points:t.auth.user.points,hifive:t.auth.user.hifive});case 3:a=e.sent,this.setState({pointsRank:a.data.pointsRank,hifiveRank:a.data.hifiveRank}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.pointsRank,a=e.hifiveRank,n=this.props.style;return r.a.createElement(_.Grid,{container:!0,justify:"center",spacing:16,style:n},r.a.createElement(_.Grid,{item:!0,xs:6},r.a.createElement(tt,{title:"Exercise Rank",rank:t})),r.a.createElement(_.Grid,{item:!0,xs:6},r.a.createElement(tt,{title:"HiFIVE Rank",rank:a})))}}]),t}(n.Component),nt=Object(l.b)(function(e){return{auth:e.auth}})(at),rt=Object(W.withStyles)(function(e){return{button:{margin:e.spacing.unit}}})(function(e){var t=e.classes,a=e.data,n=e.page,o=e.handleChangePage,i=e.rowsPerPage,s=Math.ceil(a.length/i);return r.a.createElement("div",null,r.a.createElement(_.Button,{color:"primary",className:t.button,disabled:0===n,onClick:function(e){return o(e,n-1)}},r.a.createElement("i",{className:"fas fa-arrow-circle-left fa-2x"})),r.a.createElement(_.Button,{color:"primary",className:t.button,disabled:0===s||n===s-1,onClick:function(e){return o(e,n+1)}},r.a.createElement("i",{className:"fas fa-arrow-circle-right fa-2x"})))}),ot=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={members:[],page:0,rowsPerPage:5,error:null},a.handleChangePage=function(e,t){a.setState({page:t})},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t,a=this;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getTeamMember(this.props.auth.user.team);case 3:t=e.sent,this.setState({members:t.data.filter(function(e){return e._id!==a.props.auth.user._id})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.style,n=this.state,o=n.members,i=n.rowsPerPage,s=n.page;return r.a.createElement(_.Paper,{className:t.root,elevation:1,style:a},r.a.createElement(_.Typography,{variant:"h6",color:"primary",gutterBottom:!0},"Team members"),r.a.createElement("hr",null),r.a.createElement(_.List,null,0===o.length&&r.a.createElement(_.ListItem,null,r.a.createElement(_.ListItemText,{secondary:"No team member yet"})),o.slice(s*i,s*i+i).map(function(e){return r.a.createElement(_.ListItem,{key:e._id},r.a.createElement(_.ListItemText,{primary:e.name}),r.a.createElement(_.ListItemText,{secondary:"".concat(e.points," points")}))})),r.a.createElement(rt,{data:o,page:s,rowsPerPage:i,handleChangePage:this.handleChangePage}))}}]),t}(n.Component),it=Object(l.b)(function(e){return{auth:e.auth}})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginTop:"20px"})}})(ot)),st=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={hifives:[],page:0,rowsPerPage:5,error:null},a.handleChangePage=function(e,t){a.setState({page:t})},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe();case 3:t=e.sent,this.setState({hifives:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.style,n=this.state,o=n.hifives,i=n.rowsPerPage,s=n.page;return r.a.createElement(_.Paper,{className:t.root,elevation:1,style:a},r.a.createElement(_.Typography,{variant:"h6",color:"primary",gutterBottom:!0},"Guess who gave you a HiFIVE"),r.a.createElement("div",{className:t.demo},r.a.createElement(_.List,{style:{overflow:"overlay"}},0===o.length&&r.a.createElement(_.ListItem,null,r.a.createElement(_.ListItemText,{secondary:"No one gave you a HiFIVE yet"})),o.slice(s*i,s*i+i).map(function(e){return r.a.createElement(_.ListItem,{key:e._id},r.a.createElement(_.ListItemText,{primary:e.sender.name}),r.a.createElement(_.ListItemText,{secondary:e.reason}))})),r.a.createElement(rt,{data:o,page:s,rowsPerPage:i,handleChangePage:this.handleChangePage})))}}]),t}(n.Component),ct=Object(l.b)(function(e){return{auth:e.auth}})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginTop:"20px"})}})(st)),lt=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_.Grid,{className:e.root,container:!0,justify:"center",alignItems:"flex-start",spacing:16},r.a.createElement(_.Grid,{item:!0,lg:4,md:6,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(et,null))),r.a.createElement(_.Grid,{item:!0,lg:3,md:5,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(nt,null)),r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(it,null)),r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(ct,null))))}}]),t}(n.Component),ut=Object(W.withStyles)({root:{marginTop:20}})(lt),mt={getPosts:function(){return N().get("adminposts")}},pt=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],isLoading:!0,error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.getPosts();case 2:t=e.sent,this.setState({posts:t.data,isLoading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.posts,a=e.isLoading,n=this.props.classes;return r.a.createElement(_.Grid,{container:!0,justify:"center"},r.a.createElement(_.Grid,{item:!0,md:6,xs:11},r.a.createElement(_.Paper,{className:n.root,elevation:2},r.a.createElement(_.Typography,{variant:"h5",color:"primary"},"Posts board",r.a.createElement(_.Button,{component:s.b,to:"/user/home",className:n.backBtn,variant:"contained",color:"primary"},"Back")),r.a.createElement("hr",null),a&&r.a.createElement(_.LinearProgress,{color:"primary"}),0===t.length&&r.a.createElement(_.Typography,{component:"p",variant:"subtitle1",color:"secondary"},"No post yet"),r.a.createElement(_.List,null,t.map(function(e,t){return r.a.createElement(_.ListItem,{key:t,button:!0,component:"a",href:e.url,target:"_blank",variant:"subtitle1",color:"secondary"},r.a.createElement(_.ListItemText,{primary:e.title}))})))))}}]),t}(n.Component),dt=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginTop:20}),backBtn:{float:"right"}}})(pt),ht=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],loading:!0,error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUsers();case 3:t=e.sent,this.setState({users:t.data,loading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading,n=this.props,o=n.classes,i=n.style,s=t.map(function(e){return{id:e._id,name:e.name,points:e.points,hifive:e.hifive}});return r.a.createElement(_.Paper,{className:o.root,style:i},r.a.createElement("div",{className:o.tableWrapper},a&&r.a.createElement(_.LinearProgress,{color:"primary"}),!a&&r.a.createElement(_e.a,{title:"Individual",data:s,columns:[{name:"name",label:"Name"},{name:"points",label:"Points"},{name:"hifive",label:"HiFIVE"}],options:{print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,download:!1}})))}}]),t}(n.Component),gt=Object(W.withStyles)(function(e){return{root:{padding:20},table:{},tableWrapper:{overflowX:"auto"}}})(ht),ft=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={teams:[],error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getTeams();case 3:t=e.sent,this.setState({teams:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.teams,t=this.props,a=t.classes,n=t.style,o={labels:e.map(function(e){return e.name}),datasets:[{backgroundColor:e.map(function(e){return e.color}),data:e.map(function(e){return e.points})}]};return r.a.createElement(_.Paper,{className:a.root,elevation:1,style:n},r.a.createElement(_.Typography,{variant:"h5",component:"h3"},"Team"),r.a.createElement("p",null,r.a.createElement(Ze.a,{data:o,width:400,height:300,options:{legend:{display:!1},tooltips:{callbacks:{label:function(e){return e.yLabel}}},maintainAspectRatio:!1}})))}}]),t}(n.Component),yt=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(ft),vt=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_.Grid,{className:e.root,container:!0,justify:"center",alignItems:"flex-start",spacing:16},r.a.createElement(_.Grid,{item:!0,lg:4,md:5,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(gt,null))),r.a.createElement(_.Grid,{item:!0,lg:4,md:5,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(yt,null)),r.a.createElement(_.Button,{className:e.backBtn,component:s.b,to:"/user/home",variant:"contained",color:"primary"},"Back")))}}]),t}(n.Component),bt=Object(W.withStyles)(function(e){return{root:{marginTop:20},backBtn:{float:"right",marginTop:20}}})(vt),Et={getBonuses:function(){return N().get("bonuses")}},Ot=a(309),jt=a(182);function xt(e){var t=e.label,a=e.handleChangeTo,o=e.start,i=e.end,s=e.error,c=e.disableFuture,l=Object(n.useState)(null),u=Object(J.a)(l,2),m=u[0],p=u[1];return r.a.createElement(n.Fragment,null,r.a.createElement(jt.b,{utils:Ot.a},r.a.createElement(jt.a,{autoOk:!0,label:t,minDate:o,maxDate:i,disableFuture:c,value:m,onChange:function(e){p(e),a(e)},fullWidth:!0,error:!!s})))}xt.defaultProps={disableFuture:!0};var kt=xt,wt=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={date:"",type:"",typeInput:"",duration:"",bonus:[],bonusOptions:[]},a.onChange=function(e){a.setState(Object(he.a)({},e.target.name,e.target.value)),a.props.clearErrors([e.target.name])},a.onSubmit=function(e){e.preventDefault();var t=a.state.duration,n=a.state.bonus;n.forEach(function(e){var n=a.state.bonusOptions.filter(function(t){return t._id===e});t=Number(t)+Number(n[0].points)});var r={date:a.state.date,type:a.state.type,typeInput:a.state.typeInput,duration:a.state.duration,bonus:n,points:t};a.props.addRecord(r,a.props.history)},a.handleDateChange=function(e){a.setState({date:e}),a.props.clearErrors(["date"])},a.onErrorClose=function(){a.setState({error:null})},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et.getBonuses();case 3:t=e.sent,this.setState({bonusOptions:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.type,a=e.typeInput,n=e.duration,o=e.bonus,i=e.bonusOptions,c=this.props,l=c.errors,u=c.activity,m=c.auth,p={PaperProps:{style:{maxHeight:224,width:250}}};return r.a.createElement(_.Grid,{container:!0,justify:"center",style:{marginTop:"20px"}},r.a.createElement(_.Grid,{item:!0,lg:4,md:5},r.a.createElement(_.Paper,{elevation:1,style:{padding:"20px"}},r.a.createElement(_.Typography,{variant:"h5",component:"h3",color:"primary",style:{marginBottom:"10px"}},"Add record",r.a.createElement(_.Button,{component:s.b,to:"/user/profile",variant:"contained",color:"primary",style:{float:"right"}},"Back")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(kt,{label:"Exercise date",start:u.start,end:u.end,handleChangeTo:this.handleDateChange,error:l.date}),l.date&&r.a.createElement(_.Typography,{color:"error"},l.date.msg),r.a.createElement(_.FormControl,{fullWidth:!0,error:!!l.type},r.a.createElement(_.InputLabel,{htmlFor:"type"},"Exercise type"),r.a.createElement(_.Select,{value:t,onChange:this.onChange,inputProps:{name:"type",id:"type"}},r.a.createElement(_.MenuItem,{value:""},r.a.createElement("em",null,"None")),[{label:"Walk",value:"Walk"},{label:"Run",value:"Run"},{label:"Bike",value:"Bike"},{label:"Swim",value:"Swim"},{label:"Dance",value:"Dance"},{label:"Gym",value:"Gym"},{label:"Yoga",value:"Yoga"},{label:"Mindfulness",value:"Mindfulness"},{label:"Sex",value:"Sex"},{label:"Other",value:"Other"}].map(function(e){return r.a.createElement(_.MenuItem,{key:e.value,value:e.value},e.label)}))),l.type&&r.a.createElement(_.Typography,{color:"error"},l.type.msg),"Other"===t&&r.a.createElement(_.TextField,{placeholder:"Exercise type",label:"Exercise type",name:"typeInput",value:a,onChange:this.onChange,error:!!l.typeInput,fullWidth:!0}),l.typeInput&&r.a.createElement(_.Typography,{color:"error"},l.typeInput.msg),r.a.createElement(_.TextField,{placeholder:"Minute",label:"Exercise duration",name:"duration",type:"number",value:n,onChange:this.onChange,error:!!l.duration,fullWidth:!0}),l.duration&&r.a.createElement(_.Typography,{color:"error"},l.duration.msg),0!==i.length?r.a.createElement(_.FormControl,{fullWidth:!0},r.a.createElement(_.InputLabel,{htmlFor:"select-multiple-checkbox"},"Bonus"),r.a.createElement(_.Select,{multiple:!0,value:o,name:"bonus",onChange:this.onChange,input:r.a.createElement(_.Input,{id:"select-multiple-checkbox"}),renderValue:function(e){for(var t=[],a=function(a){var n=i.filter(function(t){return t._id===e[a]});t.push(n[0].name)},n=0;n<e.length;n++)a(n);return t.join(",")},MenuProps:p},i.map(function(e){return r.a.createElement(_.MenuItem,{key:e._id,value:e._id},r.a.createElement(_.Checkbox,{checked:o.indexOf(e._id)>-1}),r.a.createElement(_.ListItemText,{primary:e.name}))}))):"",r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"},disabled:!m.user.accountState||!u||0===Object.keys(u).length},"Add")),l.server&&r.a.createElement(le,{variant:"error",message:l.server.msg,onClose:this.onErrorClose}))))}}]),t}(n.Component),Ct=Object(l.b)(function(e){return{auth:e.auth,activity:e.activity.activity,errors:e.errors}},{addRecord:function(e,t){return function(){var a=Object(k.a)(x.a.mark(function a(n){var r;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,qe(e);case 3:n(ee()),t.push("/user/profile"),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),(r=a.t0.response.data.errors)&&n(Q(r));case 11:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},clearErrors:$})(Object(c.f)(wt)),Tt=a(8),St=a.n(Tt),It=a(311),Lt=a(29),At=a.n(Lt),Nt=a(78),Pt=a.n(Nt),Rt=a(66),Dt=a.n(Rt),Bt=a(34),Mt=a.n(Bt),Ft=a(96),Gt=a.n(Ft),_t=a(80),Wt=a.n(_t),Ut=a(305),Yt=a.n(Ut),Vt=a(50);function Ht(e){var t=e.inputRef,a=Object(re.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var zt={Control:function(e){return r.a.createElement(Dt.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Ht,inputProps:Object(d.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return r.a.createElement(Mt.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(Gt.a,{tabIndex:-1,label:e.children,className:St()(e.selectProps.classes.chip,Object(he.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(Yt.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(At.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(Wt.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(At.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(At.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Jt=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={single:null,multi:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=e.onChange,o=e.receiverOptions,i=e.value,s=e.name,c=e.isMulti,l={input:function(e){return Object(d.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}},u=o.map(function(e){return{value:e._id,label:e.name}});return r.a.createElement("div",{className:t.root},r.a.createElement(Pt.a,null,r.a.createElement(It.a,{classes:t,styles:l,textFieldProps:{label:"Label",InputLabelProps:{shrink:!0}},options:u,components:zt,value:i,onChange:n(s),placeholder:"Receiver",isMulti:c,isClearable:!0})))}}]),t}(r.a.Component),qt=Object(W.withStyles)(function(e){return{root:{flexGrow:1},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(Vt.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}},{withTheme:!0})(Jt),Kt=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={receiver:[],reason:"",receiverOptions:[]},a.onChange=function(e){a.setState(Object(he.a)({},e.target.name,e.target.value)),a.props.clearErrors([e.target.name])},a.onAutoComleteChange=function(e){return function(t){a.setState(Object(he.a)({},e,[t])),a.props.clearErrors(["receiver"])}},a.onSubmit=function(e){e.preventDefault();var t={receiver:a.state.receiver.map(function(e){return e.value}),reason:a.state.reason};a.props.addHiFIVE(t,a.props.history)},a.onErrorClose=function(){a.setState({error:null})},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t,a=this;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUsers();case 3:t=e.sent,this.setState({receiverOptions:t.data.filter(function(e){return e._id!==a.props.auth.user._id})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.receiver,a=e.reason,n=e.receiverOptions,o=this.props,i=o.auth,c=o.errors;return r.a.createElement(_.Grid,{container:!0,justify:"center",style:{marginTop:"20px"}},r.a.createElement(_.Grid,{item:!0,lg:4,md:5},r.a.createElement(_.Paper,{elevation:1,style:{padding:"20px"}},r.a.createElement(_.Typography,{variant:"h5",component:"h3",color:"primary",style:{marginBottom:"10px"}},"Give a HiFIVE",r.a.createElement(_.Button,{component:s.b,to:"/user/home",variant:"contained",color:"primary",style:{float:"right"}},"Back")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(qt,{name:"receiver",onChange:this.onAutoComleteChange,receiverOptions:n,value:t}),c.receiver&&r.a.createElement(_.Typography,{color:"error"},c.receiver.msg),r.a.createElement(_.TextField,{placeholder:"Reason",label:"Reason",name:"reason",value:a,onChange:this.onChange,error:!!c.reason,fullWidth:!0}),c.reason&&r.a.createElement(_.Typography,{color:"error"},c.reason.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"},disabled:!i.user.accountState},"Submit")),c.server&&r.a.createElement(le,{variant:"error",message:c.server.msg,onClose:this.onErrorClose}))))}}]),t}(n.Component),Zt=Object(l.b)(function(e){return{auth:e.auth,errors:e.errors}},{addHiFIVE:function(e,t){return function(){var a=Object(k.a)(x.a.mark(function a(n){var r;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Me(e);case 3:t.push("/user/home"),a.next=10;break;case 6:a.prev=6,a.t0=a.catch(0),(r=a.t0.response.data.errors)&&n(Q(r));case 10:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()},clearErrors:$})(Object(c.f)(Kt)),Xt=Object(l.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(re.a)(e,["component","auth"]);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(c.a,{to:"/"})}}))}),Qt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{exact:!0,path:"/",component:de}),r.a.createElement(c.b,{exact:!0,path:"/register",component:fe}),r.a.createElement(Xt,{path:"/user",component:z}),r.a.createElement(Xt,{exact:!0,path:"/user/home",component:ze}),r.a.createElement(Xt,{exact:!0,path:"/user/profile",component:ut}),r.a.createElement(Xt,{exact:!0,path:"/user/posts",component:dt}),r.a.createElement(Xt,{exact:!0,path:"/user/contribution",component:bt}),r.a.createElement(Xt,{exact:!0,path:"/user/record/add",component:Ct}),r.a.createElement(Xt,{exact:!0,path:"/user/hifive/add",component:Zt}))},$t=function(e){return N().post("admin/login",e)},ea=function(){return N().get("admin/auth")},ta=Object(l.b)(function(e){return{errors:e.errors,isAdmin:e.adminAuth.isAdmin,isAuthenticated:e.auth.isAuthenticated}},{adminLogin:function(e,t){return function(){var a=Object(k.a)(x.a.mark(function a(n){var r,o;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,$t(e);case 3:r=a.sent,q(r.data.token),n({type:"ADMIN_LOGIN_SUCCESS",payload:r.data.token}),t.push("/admin/activity"),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),(o=a.t0.response.data.errors)&&n(Q(o)),n({type:"ADMIN_LOGIN_FAIL"});case 14:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},clearErrors:$})(Object(c.f)(function(e){var t=e.isAuthenticated,a=e.isAdmin,o=e.adminLogin,i=e.errors,s=e.history,l=e.clearErrors,u=Object(n.useState)({username:"",password:""}),m=Object(J.a)(u,2),p=m[0],h=m[1],g=p.username,f=p.password;if(t)return r.a.createElement(c.a,{to:"/user/home"});if(a)return r.a.createElement(c.a,{to:"/admin/activity"});var y=function(e){l([e.target.name]),h(Object(d.a)({},p,Object(he.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(k.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o({username:g,password:f},s);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(_.Grid,{container:!0,justify:"center",style:{marginTop:"10rem"}},r.a.createElement(_.Grid,{item:!0,md:4,sm:8,xs:11,style:{textAlign:"center"}},r.a.createElement(_.Paper,{elevation:1,style:{padding:"20px"}},r.a.createElement("img",{src:me.a,width:"50",height:"50",alt:"Logo",style:{marginBottom:"20px"}}),r.a.createElement(_.Typography,{variant:"h5",paragraph:!0},r.a.createElement(_.Typography,{inline:!0,component:"span",variant:"h5",color:"primary"},"HiFIVE")," ","Admin System"),r.a.createElement("form",{onSubmit:v},r.a.createElement(_.TextField,{label:"Username",name:"username",value:g,onChange:function(e){return y(e)},error:!!i.username,fullWidth:!0}),i.username&&r.a.createElement(_.Typography,{color:"error"},i.username.msg),r.a.createElement(_.TextField,{label:"Password",name:"password",type:"password",value:f,onChange:function(e){return y(e)},error:!!i.password,fullWidth:!0}),i.password&&r.a.createElement(_.Typography,{color:"error"},i.password.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Login"),i.server&&r.a.createElement(le,{variant:"error",message:i.server.msg,onClose:function(){l(["server"])}})))))})),aa=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={start:"",duration:0,end:"",disableFuture:!1},a.onSubmit=function(e){e.preventDefault();var t={start:a.state.start,end:a.state.end,duration:a.state.duration};a.props.addActivity(t)},a.onStartChange=function(e){a.setState({start:e,end:Qe()(e).add(a.state.duration,"days").format("YYYY-MM-DD")}),a.props.clearActivityError("start")},a.onDurationChange=function(e){if(!a.state.start)return a.setState({duration:e.target.value,end:""});a.setState({duration:e.target.value,end:Qe()(a.state.start).add(e.target.value,"days").format("YYYY-MM-DD")}),a.props.clearActivityError("duration")},a.onEditActivity=function(e){a.props.editActivityStatus().then(function(){a.props.getActivity()})},a.onErrorClose=function(){a.props.clearActivityError("server")},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activity,a=e.classes,n=e.style,o=e.errors,i=this.state,s=i.disableFuture,c=i.duration,l=i.end;return r.a.createElement(_.Paper,{className:a.root,elevation:2,style:n},r.a.createElement(_.Typography,{variant:"h5",color:"primary",gutterBottom:!0},"Activity"),r.a.createElement("hr",null),t.loading&&r.a.createElement(_.CircularProgress,{className:a.progress,color:"primary"}),null===t.activity||0===Object.keys(t.activity).length?r.a.createElement("div",null,r.a.createElement(_.Typography,{variant:"h6",color:"secondary"},"No activity yet"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(kt,{label:"Start",disableFuture:s,handleChangeTo:this.onStartChange,error:o.start}),o.start&&r.a.createElement(_.Typography,{color:"error"},o.start.msg),r.a.createElement(_.TextField,{label:"Activity duration / days",name:"duration",type:"number",value:c,onChange:this.onDurationChange,error:!!o.duration,fullWidth:!0}),o.duration&&r.a.createElement(_.Typography,{color:"error"},o.duration.msg),r.a.createElement(_.Typography,{variant:"caption"},"End : ",l?r.a.createElement(G.a,{format:"MMM Do YY"},l):""),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Create"))):r.a.createElement("div",null,r.a.createElement(_.Typography,{variant:"h6",color:"secondary",gutterBottom:!0},"Start:"," ",r.a.createElement(G.a,{format:"MMM Do YY"},t.activity.start)),r.a.createElement(_.Typography,{variant:"h6",color:"secondary",gutterBottom:!0},"End: ",r.a.createElement(G.a,{format:"MMM Do YY"},t.activity.end)),r.a.createElement(_.Typography,{variant:"h6",color:"secondary",gutterBottom:!0},"Participants: ",t.activity.participants),r.a.createElement(_.Typography,{variant:"h6",color:"secondary",gutterBottom:!0},"Status: ",t.activity.status),r.a.createElement(_.Button,{variant:"contained",color:"primary",onClick:this.onEditActivity},"In progress"===t.activity.status&&"Pause activity","Paused"===t.activity.status&&"Start activity")),o.server&&r.a.createElement(le,{variant:"error",message:o.server,onClose:this.onErrorClose}))}}]),t}(n.Component),na=Object(l.b)(function(e){return{activity:e.activity,errors:e.activity.errors}},{addActivity:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n,r;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:n=t.sent,a({type:"GET_ACTIVITY",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r=t.t0.response.data.errors,a({type:"ACTIVITY_ERROR",payload:r});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},editActivityStatus:function(){return function(){var e=Object(k.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),a=e.t0.response.data.errors,t({type:"ACTIVITY_ERROR",payload:a});case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},getActivity:B,clearActivityError:function(e){return function(t){t({type:"CLEAR_ACTIVITY_ERROR",payload:e})}}})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"}),createBtn:{float:"right"}}})(aa)),ra=a(100),oa=a.n(ra),ia=function(e){return N().post("bonuses",e)},sa=function(e){return N().delete("bonuses/".concat(e))},ca=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",points:"",bonuses:[],rowsPerPage:5,page:0,creating:!1,bonusLoading:!1,formLoading:!1},a.handleChangePage=function(e,t){a.setState({page:t})},a.onChange=function(e){a.setState(Object(he.a)({},e.target.name,e.target.value)),a.props.clearErrors([e.target.name])},a.clearForm=function(){a.setState({name:"",points:"",creating:!1})},a.onSubmit=function(e){e.preventDefault(),a.setState({formLoading:!0});var t={name:a.state.name,points:a.state.points};a.props.addBonus(t).then(Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({formLoading:!1}),a.props.errors.name||a.props.errors.points){e.next=15;break}return e.prev=2,a.setState({bonusLoading:!0}),e.next=6,Et.getBonuses();case 6:t=e.sent,a.setState({bonuses:t.data,bonusLoading:!1}),a.clearForm(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),a.setErrors(e.t0.response.data),a.setState({bonusLoading:!1});case 15:case"end":return e.stop()}},e,null,[[2,11]])})))},a.onDelete=function(e){a.setState({bonusLoading:!0}),a.props.deleteBonus(e).then(Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et.getBonuses();case 3:t=e.sent,a.setState({bonuses:t.data,bonusLoading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.setErrors(e.t0.response.data);case 10:case"end":return e.stop()}},e,null,[[0,7]])})))},a.onErrorClose=function(){a.props.clearErrors(["server"])},a.onCreate=function(e){a.setState({creating:!0})},a.handleClose=function(e){a.clearForm(),a.props.clearErrors(["name","points","server"])},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et.getBonuses();case 3:t=e.sent,this.setState({bonuses:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.setErrors(e.t0.response.data);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.bonuses,n=t.rowsPerPage,o=t.page,i=t.name,s=t.points,c=t.bonusLoading,l=t.formLoading,u=t.creating,m=this.props,p=m.classes,d=m.style,h=m.errors,g=n-Math.min(n,a.length-o*n);return r.a.createElement(_.Paper,{className:p.root,elevation:2,style:d},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"Bonus",r.a.createElement(_.Button,{variant:"contained",color:"primary",className:p.createBtn,onClick:this.onCreate},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("hr",null),c&&r.a.createElement(_.CircularProgress,{className:p.progress,color:"primary"}),r.a.createElement(_.List,null,0===a.length&&r.a.createElement(_.ListItem,null,r.a.createElement(_.ListItemText,{secondary:"No bonus yet"})),a.slice(o*n,o*n+n).map(function(t){return r.a.createElement(_.ListItem,{key:t._id},r.a.createElement(_.ListItemText,{primary:t.name}),r.a.createElement(_.ListItemText,{secondary:t.points,style:{textAlign:"right"}}),r.a.createElement(_.ListItemSecondaryAction,null,r.a.createElement(_.IconButton,{"aria-label":"Delete",onClick:e.onDelete.bind(e,t._id)},r.a.createElement(oa.a,null))))}),g>0&&r.a.createElement(_.ListItem,{style:{height:48*g}})),r.a.createElement(rt,{data:a,page:o,rowsPerPage:n,handleChangePage:this.handleChangePage}),r.a.createElement(_.Dialog,{"aria-labelledby":"form-dialog-title",open:u,onClose:this.handleClose,maxWidth:"sm",fullWidth:!0},r.a.createElement(_.DialogTitle,{id:"form-dialog-title"},"Add bonus",r.a.createElement(_.Button,{variant:"contained",color:"primary",className:p.createBtn,onClick:this.handleClose},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement(_.DialogContent,null,l&&r.a.createElement(_.CircularProgress,{className:p.progress,color:"primary"}),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(_.TextField,{autoFocus:!0,label:"Bonus name",name:"name",value:i,onChange:this.onChange,error:!!h.name,fullWidth:!0}),h.name&&r.a.createElement(_.Typography,{color:"error"},h.name.msg),r.a.createElement(_.TextField,{label:"Bonus points",name:"points",type:"number",value:s,onChange:this.onChange,error:!!h.points,fullWidth:!0}),h.points&&r.a.createElement(_.Typography,{color:"error"},h.points.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Add")))),h.server&&r.a.createElement(le,{variant:"error",message:h.server,onClose:this.onErrorClose}))}}]),t}(n.Component),la=Object(l.b)(function(e){return{errors:e.errors}},{addBonus:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ia(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),(n=t.t0.response.data.errors)&&a(Q(n));case 9:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()},deleteBonus:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),(n=t.t0.response.data.errors)&&a(Q(n));case 9:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()},setErrors:Q,clearErrors:$})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"}),createBtn:{float:"right"}}})(ca)),ua=function(e){return N().post("adminposts",e)},ma=function(e){return N().delete("adminposts/".concat(e))},pa=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",url:"http://",posts:[],rowsPerPage:5,page:0,creating:!1,postLoading:!1,formLoading:!1},a.handleChangePage=function(e,t){a.setState({page:t})},a.onChange=function(e){a.setState(Object(he.a)({},e.target.name,e.target.value)),a.props.clearErrors([e.target.name])},a.clearForm=function(){a.setState({title:"",url:"http://",creating:!1})},a.onSubmit=function(e){e.preventDefault(),a.setState({formLoading:!0});var t={title:a.state.title,url:a.state.url};a.props.addPost(t).then(Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({formLoading:!1}),a.props.errors.title||a.props.errors.url){e.next=15;break}return e.prev=2,a.setState({postLoading:!0}),e.next=6,mt.getPosts();case 6:t=e.sent,a.setState({posts:t.data,postLoading:!1}),a.clearForm(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),a.setErrors(e.t0.response.data),a.setState({postLoading:!1});case 15:case"end":return e.stop()}},e,null,[[2,11]])})))},a.onDelete=function(e){a.setState({postLoading:!0}),a.props.deletePost(e).then(Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mt.getPosts();case 3:t=e.sent,a.setState({posts:t.data,postLoading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.setErrors(e.t0.response.data);case 10:case"end":return e.stop()}},e,null,[[0,7]])})))},a.onErrorClose=function(){a.props.clearErrors(["server"])},a.onCreate=function(e){a.setState({creating:!0})},a.handleClose=function(e){a.clearForm(),a.props.clearErrors(["title","url","server"])},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mt.getPosts();case 3:t=e.sent,this.setState({posts:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.setErrors(e.t0.response.data);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.posts,n=t.rowsPerPage,o=t.page,i=t.title,s=t.url,c=t.postLoading,l=t.formLoading,u=t.creating,m=this.props,p=m.classes,d=m.style,h=m.errors,g=n-Math.min(n,a.length-o*n);return r.a.createElement(_.Paper,{className:p.root,elevation:2,style:d},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"Post",r.a.createElement(_.Button,{variant:"contained",color:"primary",className:p.createBtn,onClick:this.onCreate},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("hr",null),c&&r.a.createElement(_.CircularProgress,{className:p.progress,color:"primary"}),r.a.createElement(_.List,null,0===a.length&&r.a.createElement(_.ListItem,null,r.a.createElement(_.ListItemText,{secondary:"No post yet"})),a.slice(o*n,o*n+n).map(function(t){return r.a.createElement(_.ListItem,{key:t._id,button:!0,component:"a",href:t.url,target:"_blank",variant:"subtitle1",color:"secondary"},r.a.createElement(_.ListItemText,{primary:t.title}),r.a.createElement(_.ListItemSecondaryAction,null,r.a.createElement(_.IconButton,{"aria-label":"Delete",onClick:e.onDelete.bind(e,t._id)},r.a.createElement(oa.a,null))))}),g>0&&r.a.createElement(_.ListItem,{style:{height:48*g}})),r.a.createElement(rt,{data:a,page:o,rowsPerPage:n,handleChangePage:this.handleChangePage}),r.a.createElement(_.Dialog,{"aria-labelledby":"form-dialog-title",open:u,onClose:this.handleClose,maxWidth:"sm",fullWidth:!0},r.a.createElement(_.DialogTitle,{id:"form-dialog-title"},"Add post",r.a.createElement(_.Button,{variant:"contained",color:"primary",className:p.createBtn,onClick:this.handleClose},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement(_.DialogContent,null,l&&r.a.createElement(_.CircularProgress,{className:p.progress,color:"primary"}),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(_.TextField,{autoFocus:!0,label:"Post title",name:"title",value:i,onChange:this.onChange,error:!!h.title,fullWidth:!0}),h.title&&r.a.createElement(_.Typography,{color:"error"},h.title.msg),r.a.createElement(_.TextField,{label:"Post URL",name:"url",type:"url",value:s,onChange:this.onChange,error:!!h.url,fullWidth:!0}),h.url&&r.a.createElement(_.Typography,{color:"error"},h.url.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Add")))),h.server&&r.a.createElement(le,{variant:"error",message:h.server,onClose:this.onErrorClose}))}}]),t}(n.Component),da=Object(l.b)(function(e){return{errors:e.errors}},{addPost:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ua(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),(n=t.t0.response.data.errors)&&a(Q(n));case 9:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ma(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),(n=t.t0.response.data.errors)&&a(Q(n));case 9:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()},setErrors:Q,clearErrors:$})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"}),createBtn:{float:"right"}}})(pa)),ha=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={teams:[],error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getTeams();case 3:t=e.sent,this.setState({teams:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.response.data});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.teams,t=this.props,a=t.classes,n=t.style,o={labels:e.map(function(e){return e.name}),datasets:[{backgroundColor:e.map(function(e){return e.color}),data:e.map(function(e){return e.points})}]};return r.a.createElement(_.Paper,{className:a.root,elevation:2,style:n},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"Team"),r.a.createElement(_.Grid,{container:!0,justify:"space-around",alignItems:"flex-start",spacing:16},r.a.createElement(_.Grid,{item:!0,md:3,xs:12},r.a.createElement(_.List,null,r.a.createElement(_.ListItem,{className:a.listItem},r.a.createElement(_.ListItemText,{primary:"Team"}),r.a.createElement(_.ListItemText,{primary:"Members",style:{textAlign:"right"}})),e.map(function(e){return r.a.createElement(_.ListItem,{key:e._id,className:a.listItem},r.a.createElement(_.ListItemText,{primary:e.name}),r.a.createElement(_.ListItemText,{secondary:e.member,style:{textAlign:"right"}}))}))),r.a.createElement(_.Grid,{item:!0,md:6,xs:12},r.a.createElement("p",null,r.a.createElement(Ze.a,{data:o,width:400,height:300,options:{legend:{display:!1},tooltips:{callbacks:{label:function(e){return e.yLabel}}},maintainAspectRatio:!1}})))))}}]),t}(n.Component),ga=Object(l.b)(null,{})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"}),createBtn:{float:"right"}}})(ha)),fa=function(e){return N().put("footer",e)},ya=function(){return N().get("footer")},va=function(){return function(){var e=Object(k.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ya();case 3:a=e.sent,t({type:"GET_FOOTER",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(n=e.t0.response.data.errors)&&t(Q(n));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},ba=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={content:"",footerOrigin:a.props.footer.footer,creating:!1,formLoading:!1,noEditError:!1},a.onChange=function(e){a.setState(Object(he.a)({},e.target.name,e.target.value)),a.props.clearErrors([e.target.name])},a.clearForm=function(){a.setState({content:"",creating:!1,noEditError:!1})},a.onSubmit=function(e){if(e.preventDefault(),a.setState({formLoading:!0}),a.state.footerOrigin&&a.state.footerOrigin.content===a.state.content)return a.setState({formLoading:!1,noEditError:!0});var t={content:a.state.content};a.props.addFooter(t).then(function(){a.setState({formLoading:!1}),a.props.errors.content||a.clearForm()})},a.onErrorClose=function(){a.props.clearErrors(["server"])},a.onCreate=function(e){a.setState({creating:!0})},a.handleClose=function(e){a.clearForm(),a.props.clearErrors(["content","server"])},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.content,a=e.formLoading,n=e.creating,o=e.noEditError,i=this.props,s=i.classes,c=i.style,l=i.errors,u=i.footer;return r.a.createElement(_.Paper,{className:s.root,elevation:2,style:c},r.a.createElement(_.Typography,{variant:"h5",color:"primary",paragraph:!0},"Footer",r.a.createElement(_.Button,{variant:"contained",color:"primary",className:s.createBtn,onClick:this.onCreate},r.a.createElement("i",{className:"fas fa-plus"}))),u.footer&&u.footer.content?r.a.createElement(_.Typography,null,u.footer.content):r.a.createElement(_.Typography,null,"Copyright \xa9 ",(new Date).getFullYear()," HiFIVE"),r.a.createElement(_.Dialog,{"aria-labelledby":"form-dialog-title",open:n,onClose:this.handleClose,maxWidth:"sm",fullWidth:!0},r.a.createElement(_.DialogTitle,{id:"form-dialog-title"},"Edit Footer",r.a.createElement(_.Button,{variant:"contained",color:"primary",className:s.createBtn,onClick:this.handleClose},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement(_.DialogContent,null,o&&r.a.createElement(_.Typography,{color:"error"},"Footer unedited"),a&&r.a.createElement(_.CircularProgress,{className:s.progress,color:"primary"}),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(_.TextField,{autoFocus:!0,label:"Footer content",name:"content",value:t,onChange:this.onChange,error:!!l.content,fullWidth:!0}),l.content&&r.a.createElement(_.Typography,{color:"error"},l.content.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Add")))),l.server&&r.a.createElement(le,{variant:"error",message:l.server,onClose:this.onErrorClose}))}}]),t}(n.Component),Ea=Object(l.b)(function(e){return{footer:e.footer,errors:e.errors}},{getFooter:va,addFooter:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n,r;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fa(e);case 3:n=t.sent,a({type:"GET_FOOTER",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),(r=t.t0.response.data.errors)&&a(Q(r));case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},setErrors:Q,clearErrors:$})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"}),createBtn:{float:"right"}}})(ba)),Oa=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.getActivity()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_.Grid,{className:e.root,container:!0,justify:"center",spacing:16},r.a.createElement(_.Grid,{item:!0,lg:3,md:4,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(na,null)),r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(Ea,null))),r.a.createElement(_.Grid,{item:!0,lg:3,md:4,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(la,null))),r.a.createElement(_.Grid,{item:!0,md:3,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(da,null))),r.a.createElement(_.Grid,{item:!0,lg:9,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(ga,null))))}}]),t}(n.Component),ja=Object(l.b)(null,{getActivity:B})(Object(W.withStyles)(function(e){return{root:{marginTop:20}}})(Oa)),xa=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={records:[],error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:t=e.sent,this.setState({records:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.style,n=this.state,o=n.records,i=n.error,s=o.map(function(e){return{date:Qe()(e.date).format("MMM Do YYYY"),user:e.user.name,type:e.type,duration:e.duration,points:e.points}});return r.a.createElement("div",{style:a,className:t.root},r.a.createElement(_e.a,{title:"Exercise history",data:s,columns:[{name:"date",label:"Date"},{name:"user",label:"User",options:{sort:!1}},{name:"type",label:"Type",options:{sort:!1}},{name:"duration",label:"Duration"},{name:"points",label:"Points"}],options:{print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,downloadOptions:{filename:"Exercise history.csv"}}}),i&&r.a.createElement(le,{variant:"error",message:i.msg,onClose:this.onErrorClose}))}}]),t}(n.Component),ka=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"})}})(xa),wa=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={records:[],error:null},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De();case 3:t=e.sent,this.setState({records:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.style,n=this.state,o=n.records,i=n.error,s=o.map(function(e){return{sender:e.sender.name,receiver:e.receiver.map(function(e){return e.name}).join(","),reason:e.reason}});return r.a.createElement("div",{style:a,className:t.root},r.a.createElement(_e.a,{title:"HiFIVE history",data:s,columns:[{name:"sender",label:"Sender"},{name:"receiver",label:"Receiver"},{name:"reason",label:"Reason",options:{sort:!1}}],options:{print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,downloadOptions:{filename:"HiFIVE record history.csv"}}}),i&&r.a.createElement(le,{variant:"error",message:i.msg,onClose:this.onErrorClose}))}}]),t}(n.Component),Ca=Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"})}})(wa),Ta=function(e){return N().put("users/edit",e)},Sa=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={userList:[],userEditing:{},teamOptions:[],team:"",points:"",hifive:"",accountState:"",editing:!1,formLoading:!1,usersLoading:!1,noEditError:!1},a.handleClose=function(e){a.setState({editing:!1}),a.clearForm()},a.editUser=function(){var e=Object(k.a)(x.a.mark(function e(t){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUserByID(t[0]);case 3:return n=e.sent,e.next=6,M.getTeams();case 6:r=e.sent,a.setState({userEditing:n.data,teamOptions:r.data,team:n.data.team._id,points:n.data.points,hifive:n.data.hifive,accountState:n.data.accountState,editing:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a.onErrorClose=function(){a.props.clearErrors(["server"])},a.onChange=function(e){var t;a.setState((t={},Object(he.a)(t,e.target.name,e.target.value),Object(he.a)(t,"noEditError",!1),t)),a.props.clearErrors([e.target.name])},a.clearForm=function(){a.setState({team:"",points:"",hifive:"",accountState:"",editing:!1,noEditError:!1})},a.onSubmit=function(e){e.preventDefault(),a.setState({formLoading:!0});var t=a.state,n=t.team,r=t.points,o=t.hifive,i=t.accountState;if(a.state.userEditing.team._id===n&&a.state.userEditing.points===Number(r)&&a.state.userEditing.hifive===Number(o)&&a.state.userEditing.accountState===i)return a.setState({noEditError:!0,formLoading:!1});var s={userId:a.state.userEditing._id,team:n,points:Number(r),hifive:Number(o),accountState:i};a.props.editUser(s).then(Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({formLoading:!1}),e.prev=1,a.setState({usersLoading:!0}),e.next=5,Ne.getUsers();case 5:t=e.sent,a.setState({userList:t.data,usersLoading:!1}),a.clearForm(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),a.setErrors(e.t0.response.data),a.setState({usersLoading:!1});case 14:case"end":return e.stop()}},e,null,[[1,10]])})))},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getUsers();case 3:t=e.sent,this.setState({userList:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.props.setErrors(e.t0.response.data);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.style,o=t.errors,i=this.state,s=i.userList,c=i.userEditing,l=i.editing,u=i.team,m=i.points,p=i.hifive,d=i.accountState,h=i.teamOptions,g=i.formLoading,f=i.usersLoading,y=i.noEditError,v=s.map(function(e){var t,a;return t=e.teamRandom?"random":"select",a=e.accountState?"active":"inactive",{id:e._id,name:e.name,email:e.email,gender:e.gender,jobDesc:e.jobDesc,department:e.department,teamMode:t,team:e.team.name,points:e.points,hifive:e.hifive,accountState:a}}),b={print:!1,filter:!1,viewColumns:!1,selectableRows:"none",responsive:"scroll",rowsPerPage:5,rowsPerPageOptions:[5],empty:!0,downloadOptions:{filename:"Users profile.csv"},onRowClick:function(t){e.editUser(t)}};return r.a.createElement("div",{style:n,className:a.root},f&&r.a.createElement(_.CircularProgress,{className:a.progress,color:"primary"}),r.a.createElement(_e.a,{title:"Users <Click any row you want to edit>",data:v,columns:[{name:"id",label:"Id",options:{display:!1}},{name:"name",label:"Name"},{name:"email",label:"Email",options:{display:!1}},{name:"gender",label:"Gender"},{name:"jobDesc",label:"Job description"},{name:"department",label:"Department"},{name:"teamMode",label:"Team mode"},{name:"team",label:"Team"},{name:"points",label:"Points"},{name:"hifive",label:"HiFIVE"},{name:"accountState",label:"Account state"}],options:b}),o.server&&r.a.createElement(le,{variant:"error",message:o.server.msg,onClose:this.onErrorClose}),r.a.createElement(_.Dialog,{"aria-labelledby":"form-dialog-title",open:l,onClose:this.handleClose,maxWidth:"sm",fullWidth:!0},r.a.createElement(_.DialogTitle,{id:"form-dialog-title"},c.name,r.a.createElement(_.Button,{variant:"contained",color:"primary",className:a.createBtn,onClick:this.handleClose},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement(_.DialogContent,null,y&&r.a.createElement(_.Typography,{color:"error"},"User unedited"),g&&r.a.createElement(_.CircularProgress,{className:a.progress,color:"primary"}),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(_.FormControl,{error:!!o.team,fullWidth:!0},r.a.createElement(_.InputLabel,{htmlFor:"team"},"Edit Team"),r.a.createElement(_.Select,{value:u,onChange:this.onChange,inputProps:{name:"team",id:"team"}},h.map(function(e){return r.a.createElement(_.MenuItem,{key:e._id,value:e._id},e.name)}))),o.team&&r.a.createElement(_.Typography,{color:"error"},o.team.msg),r.a.createElement(_.TextField,{label:"Points",name:"points",type:"number",value:m,onChange:this.onChange,error:!!o.points,fullWidth:!0}),o.points&&r.a.createElement(_.Typography,{color:"error"},o.points.msg),r.a.createElement(_.TextField,{label:"HiFIVE",name:"hifive",type:"number",value:p,onChange:this.onChange,error:!!o.hifive,fullWidth:!0}),o.hifive&&r.a.createElement(_.Typography,{color:"error"},o.hifive.msg),r.a.createElement(_.FormControl,{error:!!o.hifive,fullWidth:!0},r.a.createElement(_.InputLabel,{htmlFor:"accountState"},"Edit account state"),r.a.createElement(_.Select,{value:d,onChange:this.onChange,inputProps:{name:"accountState",id:"accountState"}},[{label:"active",value:!0},{label:"inactive",value:!1}].map(function(e){return r.a.createElement(_.MenuItem,{key:e.value,value:e.value},e.label)}))),o.team&&r.a.createElement(_.Typography,{color:"error"},o.team.msg),r.a.createElement(_.Button,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"Edit")))))}}]),t}(n.Component),Ia=Object(l.b)(function(e){return{errors:e.errors}},{editUser:function(e){return function(){var t=Object(k.a)(x.a.mark(function t(a){var n;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ta(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),(n=t.t0.response.data.errors)&&a(Q(n));case 9:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()},setErrors:Q,clearErrors:$})(Object(W.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,textAlign:"center",marginTop:"20px"}),createBtn:{float:"right"}}})(Sa)),La=function(e){function t(){return Object(w.a)(this,t),Object(T.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_.Grid,{className:e.root,container:!0,justify:"center",spacing:16},r.a.createElement(_.Grid,{item:!0,lg:6,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(ka,null))),r.a.createElement(_.Grid,{item:!0,lg:5,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(Ca,null))),r.a.createElement(_.Grid,{item:!0,xs:11},r.a.createElement(_.Grow,{in:!0,timeout:1e3},r.a.createElement(Ia,null))))}}]),t}(n.Component),Aa=Object(l.b)(null,{})(Object(W.withStyles)(function(e){return{root:{marginTop:20}}})(La)),Na=Object(l.b)(function(e){return{adminAuth:e.adminAuth}})(function(e){var t=e.component,a=e.adminAuth,n=Object(re.a)(e,["component","adminAuth"]);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return!0===a.isAdmin?r.a.createElement(t,e):r.a.createElement(c.a,{to:"/admin"})}}))}),Pa=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{exact:!0,path:"/admin",component:ta}),r.a.createElement(Na,{exact:!0,path:"/admin/activity",component:ja}),r.a.createElement(Na,{exact:!0,path:"/admin/users",component:Aa}))},Ra=a(133),Da=a.n(Ra),Ba=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={adminDrawers:!1},a.toggleAdminDrawer=function(e){return function(){a.setState({adminDrawers:e})}},a.onAdminLogoutClick=function(e){e.preventDefault(),a.props.adminLogout()},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location.pathname,o=this.state.adminDrawers,i=r.a.createElement(_.Hidden,{smDown:!0},r.a.createElement(_.MenuList,{className:t.pageNav},r.a.createElement(_.MenuItem,{className:t.pageNavItem,component:s.b,to:"/admin/activity",selected:"/admin/activity"===a},"Activity"),r.a.createElement(_.MenuItem,{className:t.pageNavItem,component:s.b,to:"/admin/users",selected:"/admin/users"===a},"Users"))),c=r.a.createElement("div",null,r.a.createElement(_.MenuList,null,r.a.createElement(_.MenuItem,{component:s.b,to:"/admin/activity",selected:"/admin/activity"===a},"Activity"),r.a.createElement(_.MenuItem,{component:s.b,to:"/admin/users",selected:"/admin/users"===a},"Users"),r.a.createElement(_.MenuItem,{component:"button",onClick:this.onAdminLogoutClick,className:t.logoutBtnMobile},"Logout"))),l=r.a.createElement(_.Hidden,{smDown:!0},r.a.createElement(_.Button,{className:t.link,color:"inherit",onClick:this.onAdminLogoutClick},"Logout"));return r.a.createElement(n.Fragment,null,r.a.createElement(_.Hidden,{smUp:!0},r.a.createElement(_.IconButton,{className:t.menuButton,color:"inherit","aria-label":"Menu",onClick:this.toggleAdminDrawer(!0)},r.a.createElement(Da.a,null))),r.a.createElement(_.Drawer,{anchor:"top",open:o,onClose:this.toggleAdminDrawer(!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleAdminDrawer(!1),onKeyDown:this.toggleAdminDrawer(!1)},c)),i,l)}}]),t}(n.Component),Ma=Object(l.b)(null,{adminLogout:function(){return function(e){e({type:"ADMIN_LOGOUT"})}}})(Object(c.f)(Object(W.withStyles)({pageNav:{flexGrow:1,display:"flex"},pageNavItem:{color:"white"},menuButton:{},logoutBtnMobile:{width:"100%"}})(Ba))),Fa=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={navDrawers:!1},a.onLogoutClick=function(e){e.preventDefault(),a.props.logout()},a.toggleUserDrawer=function(e){return function(){a.setState({navDrawers:e})}},a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location.pathname,o=this.state.navDrawers,i=r.a.createElement(_.Hidden,{smDown:!0},r.a.createElement(_.MenuList,{className:t.pageNav},r.a.createElement(_.MenuItem,{className:t.pageNavItem,component:s.b,to:"/user/home",selected:"/user/home"===a},"Home"),r.a.createElement(_.MenuItem,{className:t.pageNavItem,component:s.b,to:"/user/profile",selected:"/user/profile"===a},"User"))),c=r.a.createElement(_.Hidden,{smDown:!0},r.a.createElement(_.Button,{color:"inherit",onClick:this.onLogoutClick},"Logout")),l=r.a.createElement(n.Fragment,null,r.a.createElement(_.MenuList,{className:t.pageNavMobile},r.a.createElement(_.MenuItem,{component:s.b,to:"/user/home",selected:"/user/home"===a},"Home"),r.a.createElement(_.MenuItem,{component:s.b,to:"/user/profile",selected:"/user/profile"===a},"User"),r.a.createElement(_.MenuItem,{component:"button",onClick:this.onLogoutClick,className:t.logoutBtnMobile},"Logout")));return r.a.createElement(n.Fragment,null,r.a.createElement(_.Hidden,{mdUp:!0},r.a.createElement(_.IconButton,{className:t.menuButton,color:"inherit","aria-label":"Menu",onClick:this.toggleUserDrawer(!0)},r.a.createElement(Da.a,null))),r.a.createElement(_.Drawer,{anchor:"top",open:o,onClose:this.toggleUserDrawer(!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleUserDrawer(!1),onKeyDown:this.toggleUserDrawer(!1)},l)),i,c)}}]),t}(n.Component),Ga=Object(l.b)(null,{logout:function(){return function(e){e(function(e){e({type:"CLEAR_ACTIVITY"})}),e({type:"LOGTOUT"})}}})(Object(c.f)(Object(W.withStyles)({pageNav:{flexGrow:1,display:"flex"},pageNavItem:{color:"white"},menuButton:{},logoutBtnMobile:{width:"100%"}})(Fa))),_a=Object(l.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isAdmin:e.adminAuth.isAdmin}})(Object(c.f)(Object(W.withStyles)({root:{flexGrow:1},navTitle:{marginRight:20,marginLeft:10}})(function(e){var t=e.classes,a=e.isAuthenticated,n=e.isAdmin;return r.a.createElement("div",{className:t.root},r.a.createElement(_.AppBar,{position:"static",color:"secondary"},r.a.createElement(_.Toolbar,null,r.a.createElement(_.Link,{component:s.b,to:n?"/admin":"/",color:"inherit"},r.a.createElement("img",{src:me.a,width:"40",height:"40",alt:"Logo"})),r.a.createElement(_.Typography,{className:t.navTitle,variant:"h6",color:"inherit"},n?"HiFIVE Admin System":"HiFIVE"),a&&r.a.createElement(Ga,null),n&&r.a.createElement(Ma,null))))}))),Wa=a(98),Ua=a.n(Wa),Ya=Object(l.b)(function(e){return{footer:e.footer}},{getFooter:va})(Object(W.withStyles)(function(e){return{footer:{position:"absolute",bottom:0,width:"100%",height:"40px"}}})(function(e){var t=e.classes,a=e.footer,o=e.getFooter;return Object(n.useEffect)(function(){o()},[]),r.a.createElement(Ua.a,{container:!0,className:t.footer,component:"footer",justify:"center",alignItems:"center"},r.a.createElement(Ua.a,{item:!0},a.footer&&a.footer.content?r.a.createElement(At.a,null,a.footer.content):r.a.createElement(At.a,null,"Copyright \xa9 ",(new Date).getFullYear()," HiFIVE")))})),Va=function(){return r.a.createElement(_.Grid,{container:!0,justify:"center",style:{marginTop:"5rem"}},r.a.createElement(_.Grid,{item:!0},r.a.createElement(_.Typography,{variant:"h3",paragraph:!0,color:"primary"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})," Page Not Found"),r.a.createElement(_.Typography,{paragraph:!0,variant:"h5"},"Sorry, this page does not exist"),r.a.createElement(_.Button,{variant:"contained",color:"primary",component:s.b,to:"/"},"Back")))};a(670);localStorage.token&&q(localStorage.token),localStorage.adminToken&&q(localStorage.adminToken);var Ha=Object(W.withTheme)()(function(){return Object(n.useEffect)(function(){O.dispatch(ee()),O.dispatch(function(){var e=Object(k.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.adminToken&&q(localStorage.adminToken),e.prev=1,e.next=4,ea();case 4:t({type:"ADMIN_LOADED"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"ADMIN_AUTH_ERROR"});case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}())},[]),r.a.createElement(l.a,{store:O},r.a.createElement(s.a,null,r.a.createElement(_a,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/admin",component:Pa}),r.a.createElement(c.b,{path:"/",component:Qt}),r.a.createElement(c.b,{component:Va})),r.a.createElement(Ya,null)))}),za=a(102),Ja=a.n(za),qa=a(97),Ka=a.n(qa),Za=Object(W.createMuiTheme)({palette:{primary:{light:Ja.a[200],main:Ja.a[500],dark:Ja.a[700],contrastText:"#fff"},secondary:{light:Ka.a[100],main:Ka.a[700],contrastText:"#fff"}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement(W.MuiThemeProvider,{theme:Za},r.a.createElement(Ha,null)),document.getElementById("root"))},82:function(e,t,a){e.exports=a.p+"static/media/hifive.b91bc5ca.png"}},[[312,1,2]]]);
//# sourceMappingURL=main.f2a2f2ab.chunk.js.map